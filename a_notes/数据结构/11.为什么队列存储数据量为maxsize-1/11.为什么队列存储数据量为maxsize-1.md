核心结论：是的，当 maxsize=5 时，队列实际只能存 4 个数据。这是牺牲一个存储空间换取判空和判满的清晰区分。
为什么要留一个空位？
循环队列中，q.l 表示队头索引，q.r 表示队尾索引。如果不留空位：

当队列空时：q.l == q.r
当队列满时：q.l == q.r（此时无法区分空和满）

因此，通过预留一个空位，让队满条件变为 (q.r + 1) % maxsize == q.l，就能明确区分两种状态：

队空：q.l == q.r
队满：(q.r + 1) % maxsize == q.l
实例：maxsize=5 时的存储情况
假设 maxsize=5，数组下标为 0-4，预留空位后：

状态	存储元素数量	队头 q.l	队尾 q.r	满足条件
空队列	0	0	0	q.l == q.r
存 1 个元素	1	0	1	-
存 2 个元素	2	0	2	-
存 3 个元素	3	0	3	-
存 4 个元素	4	0	4	-
队满	4（无法再存）	0	4	(4+1)%5 == 0 → 0 == 0
两种常见判满策略对比
策略	存储空间利用率	实现复杂度	适用场景
预留空位	(maxsize-1)/maxsize	低（只需索引判断）	追求简洁，允许少量空间浪费
额外用变量标记（如isFull）	100%	中（需维护标记变量）	空间紧张，不允许浪费
总结
当使用 (q.r + 1) % maxsize == q.l 作为队满条件时，循环队列的实际容量 = maxsize - 1。
这种设计的核心是用极小的空间代价（1 个位置）简化了空满判断，是循环队列中最常用的实现方式。
若想让 maxsize=5 时存 5 个元素，需额外引入标记变量（如 bool full），但会增加逻辑复杂度。