## 🧩 一、为什么 `swap(a, b)` 能交换两个数组（像你那段代码那样）

其实：
 👉 **你并不是在交换整个数组的内存块**，
 而是在交换**数组名在当前作用域中代表的“首地址指针”**。

------

### 📍情况 1：**函数外的全局数组**

在这段代码里：

```
int a[11000], b[11000];
...
swap(a, b);
```

`a` 和 `b` 都是全局数组名，**数组名在大多数表达式中会被自动转换成指向首元素的指针（int*）**。
 C++ 的 `std::swap` 模板是这样定义的（简化版本）：

```
template<class T>
void swap(T& x, T& y) {
    T tmp = x;
    x = y;
    y = tmp;
}
```

那你可能会问：“数组名不是不能赋值吗？为什么能 swap？”

✅ 原因是：`swap(a, b)` 被编译器自动推导为 `swap(a, b)`，
 也就是说——编译器知道这是**两个引用到长度相同的数组**，它会生成专门的重载版本来**逐个元素交换**！

也就是：

```
for (int i = 0; i < 11000; i++)
    swap(a[i], b[i]);
```

👉 所以它不是交换地址，而是**逐个元素交换**。
 这也解释了为什么它要求 **数组大小必须相同**。

------

### 📍情况 2：如果数组大小不同怎么办？

那就不能 `swap(a, b)` 了，因为数组大小是类型的一部分。

```
int a[10], b[20];
swap(a, b); // ❌ 编译错误
```

原因：`int[10]` 和 `int[20]` 是**不同类型**。

------

## 🧠 二、那能交换“指针”吗？

当然可以。
 如果你只是想“让 a 和 b 代表的东西对调”，可以把它们封装成指针：

```
int *pa = a;
int *pb = b;
swap(pa, pb);
```

这就真的交换了两个指针的值：

- `pa` 原本指向 `a[0]`，现在指向 `b[0]`
- `pb` 原本指向 `b[0]`，现在指向 `a[0]`

但注意：

> `a` 和 `b` 本身的内容没变，**只是两个指针变量交换了所指向的位置**。

------

## 🧱 三、那如果空间不同，但你仍想交换内容怎么办？

那就得自己写逻辑，比如：

```
int a[3] = {1,2,3};
int b[5] = {4,5,6,7,8};
int len = min(3, 5);

for (int i = 0; i < len; i++)
    swap(a[i], b[i]);
```

这样可以交换重叠部分。

------

## 💡 四、C++ 中反转字符串的方式

你问的这点非常实用。
 C++ 的 `string` 类本质上是一个动态数组，它有随机访问能力。
 要反转字符串有以下几种方式：

### ✅ 方法 1：使用标准库函数

```
string s = "abcdef";
reverse(s.begin(), s.end());
cout << s;  // 输出：fedcba
```

👉 `reverse()` 来自 `` 头文件，**效率最高、最常用**。

------

### ✅ 方法 2：手动写循环（不推荐但能理解原理）

```
for (int i = 0, j = s.size()-1; i < j; i++, j--) {
    swap(s[i], s[j]);
}
```

------

### ✅ 方法 3：返回反转的新字符串

```
string reversed = string(s.rbegin(), s.rend());
```

这行很优雅，相当于：

> 用反向迭代器构造新的字符串。

------

## 🔚 总结表

| 操作           | 说明                                        |
| -------------- | ------------------------------------------- |
| `swap(a, b)`   | 数组大小相同时，逐个元素交换                |
| 不同大小的数组 | 不能直接 `swap`，需手写循环                 |
| `swap(pa, pb)` | 可以交换指针，让它们指向对方的数组          |
| 反转字符串     | `reverse(s.begin(), s.end())`               |
| 创建反转副本   | `string rev = string(s.rbegin(), s.rend())` |