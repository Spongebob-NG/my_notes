ç»™å®šä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ numsï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ targetã€‚æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚

å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ targetï¼Œè¿”å› [-1, -1]ã€‚

è¿›é˜¶ï¼šä½ å¯ä»¥è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º $O(\log n)$ çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ

ç¤ºä¾‹ 1ï¼š

- è¾“å…¥ï¼šnums = [5,7,7,8,8,10], target = 8
- è¾“å‡ºï¼š[3,4]

ç¤ºä¾‹ 2ï¼š

- è¾“å…¥ï¼šnums = [5,7,7,8,8,10], target = 6
- è¾“å‡ºï¼š[-1,-1]

ç¤ºä¾‹ 3ï¼š

- è¾“å…¥ï¼šnums = [], target = 0
- è¾“å‡ºï¼š[-1,-1]





è¿™é¢˜å…¶å®æ˜¯ **äºŒåˆ†æŸ¥æ‰¾å˜å½¢é¢˜**ï¼Œæˆ‘æ¥ä¸€æ­¥ä¸€æ­¥æ‹†å¼€å¸®ä½ çœ‹æ‡‚ï¼Œä¸ç„¶ä¸€çœ¼çœ‹è¿‡å»ç¡®å®å®¹æ˜“ç³Šæ¶‚ã€‚

------

## ğŸš©é¢˜ç›®æœ¬è´¨

æˆ‘ä»¬è¦åœ¨æœ‰åºæ•°ç»„ `nums` ä¸­ï¼Œæ‰¾åˆ° **target çš„èµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®**ã€‚
 å¸¸è§æ€è·¯æœ‰ä¸¤ç§ï¼š

1. **æš´åŠ›**ï¼šå…ˆäºŒåˆ†æ‰¾åˆ°ä¸€ä¸ª targetï¼Œå†å¾€ä¸¤è¾¹æ‰©å±•ï¼ˆå¤æ‚åº¦å¯èƒ½é€€åŒ–åˆ° O(n)ï¼‰ã€‚
2. **äºŒåˆ†ä¸¤æ¬¡**ï¼šåˆ†åˆ«ç”¨äºŒåˆ†æ‰¾ **å·¦è¾¹ç•Œ** å’Œ **å³è¾¹ç•Œ**ï¼Œå¤æ‚åº¦ O(log n)ã€‚

è¿™é‡Œçš„ä»£ç èµ°çš„æ˜¯ç¬¬äºŒç§ã€‚

------

## 1ï¸âƒ£ å·¦å³è¾¹ç•Œåˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ

æˆ‘ä»¬å®šä¹‰ä¸¤ä¸ªâ€œè™šæ‹Ÿçš„è¾¹ç•Œâ€ï¼š

- **å·¦è¾¹ç•Œï¼ˆleftBorderï¼‰**ï¼š**æ¯” target å°çš„æœ€åä¸€ä¸ªä½ç½®**
- **å³è¾¹ç•Œï¼ˆrightBorderï¼‰**ï¼š**æ¯” target å¤§çš„ç¬¬ä¸€ä¸ªä½ç½®**

æ¯”å¦‚ï¼š
 `nums = [5,7,7,8,8,10], target = 8`

```
ç´¢å¼•:    0 1 2 3 4 5
æ•°ç»„:    5 7 7 8 8 10
```

- target=8 çš„åŒºé—´æ˜¯ `[3, 4]`
- leftBorder = 2 ï¼ˆç´¢å¼• 2 çš„å€¼æ˜¯ 7ï¼Œå°äº 8ï¼‰
- rightBorder = 5 ï¼ˆç´¢å¼• 5 çš„å€¼æ˜¯ 10ï¼Œå¤§äº 8ï¼‰

æ‰€ä»¥æœ€ç»ˆç­”æ¡ˆæ˜¯ `[leftBorder+1, rightBorder-1] = [3,4]`

------

## 2ï¸âƒ£ ä¸ºä»€ä¹ˆè¦è¿™æ ·å®šä¹‰ï¼Ÿ

å› ä¸ºè¿™æ ·å¯ä»¥ç»Ÿä¸€å¤„ç†ä¸‰ç§æƒ…å†µï¼š

- **æƒ…å†µä¸€ï¼štarget åœ¨æ•°ç»„å¤–**
   æ¯”å¦‚ `[3,4,5], target=6`
   å·¦è¾¹ç•Œ=2ï¼Œå³è¾¹ç•Œ=-2ï¼ˆæ²¡æ‰¾åˆ°ï¼‰ï¼Œè¿”å› `[-1,-1]`
- **æƒ…å†µäºŒï¼štarget åœ¨èŒƒå›´å†…ï¼Œä½†ä¸å­˜åœ¨**
   æ¯”å¦‚ `[3,6,7], target=5`
   å·¦è¾¹ç•Œ=0ï¼Œå³è¾¹ç•Œ=1
   è¿™æ—¶ `rightBorder - leftBorder = 1`ï¼Œè¯´æ˜ target ä¸å­˜åœ¨ã€‚
- **æƒ…å†µä¸‰ï¼štarget å­˜åœ¨**
   æ¯”å¦‚ `[5,7,7,8,8,10], target=8`
   å·¦è¾¹ç•Œ=2ï¼Œå³è¾¹ç•Œ=5 â†’ `[3,4]`

------

## 3ï¸âƒ£ äºŒåˆ†è¿‡ç¨‹æ€ä¹ˆæ‰¾è¾¹ç•Œï¼Ÿ

### æ‰¾ **å·¦è¾¹ç•Œ**

```
int getLeftBorder(vector<int>& nums, int target) {
    int left = 0, right = nums.size() - 1;
    int leftBorder = -2; // ç‰¹æ®Šæ ‡è®°ï¼šæ²¡è¢«èµ‹å€¼
    while (left <= right) {
        int middle = left + (right - left) / 2;
        if (nums[middle] >= target) {
            right = middle - 1;
            leftBorder = right;   // æ›´æ–°å·¦è¾¹ç•Œ
        } else {
            left = middle + 1;
        }
    }
    return leftBorder;
}
```

å«ä¹‰ï¼š
 å½“ `nums[middle] >= target` æ—¶ï¼Œå°±å¾€å·¦ç¼©ï¼Œç›´åˆ°æ‰¾åˆ°**æ¯” target å°çš„æœ€åä¸€ä¸ªä½ç½®**ã€‚

------

### æ‰¾ **å³è¾¹ç•Œ**

```
int getRightBorder(vector<int>& nums, int target) {
    int left = 0, right = nums.size() - 1;
    int rightBorder = -2;
    while (left <= right) {
        int middle = left + (right - left) / 2;
        if (nums[middle] > target) {
            right = middle - 1;
        } else {
            left = middle + 1;
            rightBorder = left;   // æ›´æ–°å³è¾¹ç•Œ
        }
    }
    return rightBorder;
}
```

å«ä¹‰ï¼š
 å½“ `nums[middle] <= target` æ—¶ï¼Œå°±å¾€å³ç¼©ï¼Œç›´åˆ°æ‰¾åˆ°**æ¯” target å¤§çš„ç¬¬ä¸€ä¸ªä½ç½®**ã€‚

------

## 4ï¸âƒ£ æœ€ç»ˆç­”æ¡ˆæ€ä¹ˆå¾—å‡ºï¼Ÿ

```
vector<int> searchRange(vector<int>& nums, int target) {
    int leftBorder = getLeftBorder(nums, target);
    int rightBorder = getRightBorder(nums, target);
    if (leftBorder == -2 || rightBorder == -2) return {-1, -1}; // targetåœ¨æ•°ç»„å¤–
    if (rightBorder - leftBorder > 1) return {leftBorder+1, rightBorder-1}; // targetå­˜åœ¨
    return {-1, -1}; // targetä¸å­˜åœ¨
}
```

------

## âœ¨ä½ å›°æƒ‘çš„ç‚¹è§£ç­”

1. **ä¸ºä»€ä¹ˆæ˜¯ `leftBorder+1` å’Œ `rightBorder-1`ï¼Ÿ**
    å› ä¸º `leftBorder` å’Œ `rightBorder` æœ¬èº«æ˜¯ **target çš„å¤–ä¾§ä½ç½®**ã€‚
   - leftBorder æŒ‡å‘æ¯” target å°çš„æœ€åä¸€ä¸ªä½ç½® â†’ å†åŠ  1 å°±æ˜¯ target èµ·ç‚¹
   - rightBorder æŒ‡å‘æ¯” target å¤§çš„ç¬¬ä¸€ä¸ªä½ç½® â†’ å†å‡ 1 å°±æ˜¯ target ç»ˆç‚¹
2. **ä¸ºä»€ä¹ˆè¦å…ˆå®šä¹‰ `-2`ï¼Ÿ**
    å› ä¸ºæœ‰å¯èƒ½ target æ ¹æœ¬ä¸åœ¨èŒƒå›´é‡Œï¼Œæ¯”å¦‚ `[3,3], target=2`ã€‚
    æ­¤æ—¶å¾ªç¯è¿‡ç¨‹ä¸­ä¸ä¼šæ›´æ–°è¾¹ç•Œï¼Œå°±èƒ½ç”¨ `-2` æ¥åˆ¤æ–­ã€‚